{
  "$schema": "https://charm.land/crush.json",
  "providers": {
    "workspace-backend": {
      "id": "workspace-backend",
      "name": "LAB Unified Backend",
      "type": "openai",
      "base_url": "http://127.0.0.1:4000/v1",
      "api_key": "local-unified",
      "models": [
        {
          "id": "llama3.1:latest",
          "name": "Llama 3.1 8B (Local)",
          "context_window": 8192,
          "default_max_tokens": 2000
        },
        {
          "id": "qwen2.5-coder:7b",
          "name": "Qwen2.5 Coder 7B (Local)",
          "context_window": 32768,
          "default_max_tokens": 2000
        },
        {
          "id": "mythomax-l2-13b-q5_k_m",
          "name": "MythoMax 13B (Local)",
          "context_window": 4096,
          "default_max_tokens": 2000
        },
        {
          "id": "qwen-coder-vllm",
          "name": "Qwen Coder vLLM (Local)",
          "context_window": 32768,
          "default_max_tokens": 2000
        },
        {
          "id": "dolphin-uncensored-vllm",
          "name": "Dolphin Uncensored vLLM (Local)",
          "context_window": 4096,
          "default_max_tokens": 2000
        },
        {
          "id": "deepseek-v3.1:671b-cloud",
          "name": "DeepSeek V3.1 671B (Cloud)",
          "context_window": 64000,
          "default_max_tokens": 4000
        },
        {
          "id": "qwen3-coder:480b-cloud",
          "name": "Qwen3 Coder 480B (Cloud)",
          "context_window": 32768,
          "default_max_tokens": 4000
        },
        {
          "id": "kimi-k2:1t-cloud",
          "name": "Kimi K2 1T (Cloud)",
          "context_window": 128000,
          "default_max_tokens": 4000
        },
        {
          "id": "gpt-oss:120b-cloud",
          "name": "GPT-OSS 120B (Cloud)",
          "context_window": 32768,
          "default_max_tokens": 4000
        },
        {
          "id": "gpt-oss:20b-cloud",
          "name": "GPT-OSS 20B (Cloud)",
          "context_window": 32768,
          "default_max_tokens": 2000
        },
        {
          "id": "glm-4.6:cloud",
          "name": "GLM 4.6 (Cloud)",
          "context_window": 128000,
          "default_max_tokens": 2000
        }
      ]
    },
    "openai": {
      "id": "openai",
      "name": "OpenAI",
      "base_url": "https://api.openai.com/v1",
      "type": "openai",
      "api_key": "$OPENAI_API_KEY",
      "models": [
        {
          "id": "gpt-4o",
          "name": "GPT-4o",
          "context_window": 128000,
          "default_max_tokens": 4000,
          "cost_per_1m_in": 5.0,
          "cost_per_1m_out": 15.0
        },
        {
          "id": "gpt-4o-mini",
          "name": "GPT-4o Mini",
          "context_window": 128000,
          "default_max_tokens": 4000,
          "cost_per_1m_in": 0.15,
          "cost_per_1m_out": 0.6
        }
      ]
    },
    "anthropic": {
      "id": "anthropic",
      "name": "Anthropic",
      "base_url": "https://api.anthropic.com/v1",
      "type": "anthropic",
      "api_key": "$ANTHROPIC_API_KEY",
      "extra_headers": {
        "anthropic-version": "2023-06-01"
      },
      "models": [
        {
          "id": "claude-3-5-sonnet-20241022",
          "name": "Claude 3.5 Sonnet",
          "context_window": 200000,
          "default_max_tokens": 4000,
          "cost_per_1m_in": 3.0,
          "cost_per_1m_out": 15.0
        },
        {
          "id": "claude-3-haiku-20240307",
          "name": "Claude 3 Haiku",
          "context_window": 200000,
          "default_max_tokens": 4000,
          "cost_per_1m_in": 0.25,
          "cost_per_1m_out": 1.25
        }
      ]
    },
    "groq": {
      "id": "groq",
      "name": "Groq",
      "base_url": "https://api.groq.com/openai/v1",
      "type": "openai",
      "api_key": "$GROQ_API_KEY",
      "models": [
        {
          "id": "llama-3.1-70b-versatile",
          "name": "Llama 3.1 70B",
          "context_window": 131072,
          "default_max_tokens": 4000
        },
        {
          "id": "llama3-groq-70b-8192-tool-use-preview",
          "name": "Llama3 Groq 70B",
          "context_window": 8192,
          "default_max_tokens": 4000
        },
        {
          "id": "llama3-groq-8b-8192-tool-use-preview",
          "name": "Llama3 Groq 8B",
          "context_window": 8192,
          "default_max_tokens": 4000
        }
      ]
    },
    "gemini": {
      "id": "gemini",
      "name": "Google Gemini",
      "base_url": "https://generativelanguage.googleapis.com/v1beta",
      "type": "gemini",
      "api_key": "$GEMINI_API_KEY",
      "models": [
        {
          "id": "gemini-2.0-flash",
          "name": "Gemini 2.0 Flash",
          "context_window": 1048576,
          "default_max_tokens": 8192
        },
        {
          "id": "gemini-1.5-pro",
          "name": "Gemini 1.5 Pro",
          "context_window": 2097152,
          "default_max_tokens": 8192
        },
        {
          "id": "gemini-1.5-flash",
          "name": "Gemini 1.5 Flash",
          "context_window": 1048576,
          "default_max_tokens": 8192
        }
      ]
    }
  },
  "models": {
    "large": {
      "model": "kimi-k2:1t-cloud",
      "provider": "workspace-backend"
    },
    "small": {
      "model": "qwen2.5-coder:7b",
      "provider": "workspace-backend"
    }
  },
  "lsp": {
    "go": {
      "command": "gopls",
      "env": {
        "GOTOOLCHAIN": "go1.24.5"
      }
    },
    "python": {
      "command": "pylsp",
      "args": []
    },
    "typescript": {
      "command": "typescript-language-server",
      "args": ["--stdio"]
    },
    "rust": {
      "command": "rust-analyzer",
      "args": []
    },
    "nix": {
      "command": "nil"
    }
  },
  "mcp": {
    "sequential-thinking": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sequential-thinking"],
      "timeout": 120,
      "disabled": false,
      "env": {
        "DISABLE_THOUGHT_LOGGING": "false"
      }
    },
    "context7": {
      "type": "http",
      "url": "https://mcp.context7.com/mcp",
      "timeout": 120,
      "disabled": false,
      "headers": {
        "CONTEXT7_API_KEY": "$(echo $CONTEXT7_API_KEY)"
      }
    },
    "filesystem": {
      "type": "stdio",
      "command": "node",
      "args": ["$HOME/.crush/mcp/mcp-filesystem-server.js"],
      "timeout": 120,
      "disabled": false
    },
    "filesystem-global": {
      "type": "stdio",
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-filesystem",
        "/home/miko/LAB",
        "/home/miko/projects",
        "/home/miko/academic",
        "/home/miko/trading"
      ],
      "timeout": 120,
      "disabled": true
    },
    "memory": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-memory"],
      "timeout": 120,
      "disabled": false
    },
    "jupyter": {
      "type": "stdio",
      "command": "uvx",
      "args": ["jupyter-mcp"],
      "timeout": 180,
      "disabled": false,
      "env": {
        "JUPYTER_DATA_DIR": "$(echo $HOME)/.local/share/jupyter",
        "JUPYTER_CONFIG_DIR": "$(echo $HOME)/.jupyter"
      }
    }
  },
  "options": {
    "context_paths": [
      ".cursorrules",
      "README.md",
      "docs/",
      "AGENTS.md",
      ".git/COMMIT_EDITMSG"
    ],
    "tui": {
      "compact_mode": true,
      "diff_mode": "split",
      "completions": {
        "max_depth": 3,
        "max_items": 100
      }
    },
    "debug": false,
    "debug_lsp": false,
    "disable_auto_summarize": false,
    "data_directory": ".crush",
    "disabled_tools": [],
    "disable_provider_auto_update": false,
    "attribution": {
      "co_authored_by": true,
      "generated_with": true
    },
    "disable_metrics": false
  },
  "tools": {
    "ls": {
      "max_depth": 5,
      "max_items": 500
    },
    "grep": {
      "max_results": 50
    }
  },
  "permissions": {
    "allowed_tools": [
      "view",
      "ls",
      "grep",
      "edit",
      "write",
      "multiedit"
    ]
  }
}
